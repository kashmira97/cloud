<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>Google Cloud Run Configuration</title>
<link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link type="text/css" rel="stylesheet" href="../../localsite/css/base.css" id="/localsite/css/base.css" />
<script type="text/javascript" src="../../localsite/js/localsite.js?showheader=true&showsearch=true"></script>

<style>
@media (max-width: 1000px) {
    #issuesWidget {
        display: none;
    }
/* Local server notice */
.notice-card{
  border: 1px solid #ddd;
  border-left: 6px solid #f59e0b;
  border-radius: 10px;
  padding: 14px 16px;
  background: #fff;
  margin: 14px 0 18px 0;
}
.notice-card h3{
  margin: 0 0 8px 0;
}
.notice-card a{
  text-decoration: underline;
}
.notice-actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:10px;
}
.notice-btn{
  display:inline-block;
  padding: 8px 12px;
  border-radius: 8px;
  border: 1px solid #ccc;
  background: #f7f7f7;
  cursor: pointer;
}

}
</style>
<script>
loadMarkdown("README.md", "readmeDiv", "_parent", 1, function() {
    // Initialize radio button functionality after markdown loads
    const localRadio = document.getElementById('localdev');
    const cloudRadio = document.getElementById('clouddev');
    const localSpans = document.querySelectorAll('.localdev');
    const cloudSpans = document.querySelectorAll('.clouddev');
    
    // Restore saved choice or default to local
    const savedChoice = localStorage.getItem('deploymentChoice') || 'local';
    if (savedChoice === 'cloud') {
        cloudRadio.checked = true;
        localRadio.checked = false;
    } else {
        localRadio.checked = true;
        cloudRadio.checked = false;
    }
    
    // Show/hide content based on selection
    function toggleContent() {
        const isLocal = localRadio.checked;
        localSpans.forEach(span => span.style.display = isLocal ? 'block' : 'none');
        cloudSpans.forEach(span => span.style.display = isLocal ? 'none' : 'block');
        
        // Save choice
        localStorage.setItem('deploymentChoice', isLocal ? 'local' : 'cloud');
    }
    
    // Initial toggle
    toggleContent();
    
    // Add event listeners
    localRadio.addEventListener('change', toggleContent);
    cloudRadio.addEventListener('change', toggleContent);
});
</script>

</head>

<body>
<div class="content contentpadding large-list" style="max-width: 1800px;">
  <div id="commonSetupDiv"></div>



<div class="notice-card" id="localServerNotice">
  <h3>Local Dev: start the web server first</h3>
  <div>
    Before running Flask or notebooks, start your local webroot server and confirm it’s running:
    <a id="serverLink" href="/team/admin/server/">http://localhost:8887/team/admin/server/</a>
  </div>

  <div class="notice-actions">
    <a class="notice-btn" href="/team/admin/server/">Open Server Setup</a>
    <button class="notice-btn" type="button" id="copyServerUrl">Copy URL</button>
  </div>

  <div style="margin-top:8px; font-size: 14px; color:#555;">
    Tip: use <strong>http</strong> (not https) for localhost/127.0.0.1 to avoid SSL errors.
  </div>
</div>

<div id="readmeDiv"></div>

  <div id="readmeDiv"></div>
  <h3>Python Execution Options</h3>

<label>
  <input type="radio" name="execution" id="simplePython" value="simple"> Simple python
</label><br>
<label>
  <input type="radio" name="execution" id="notebookPython" value="notebook"> Run-Models-bkup.ipynb python
</label>

<div id="executionInstructions" style="margin-top:10px; font-style:italic;">
  Please select an option above.
</div>
</div>
<script>
  const simplePython = document.getElementById('simplePython');
  const notebookPython = document.getElementById('notebookPython');
  const execInstructions = document.getElementById('executionInstructions');

  function updateInstructions() {
    if (simplePython.checked) {
      execInstructions.innerHTML = "Instructions for running Simple python.";
    } else if (notebookPython.checked) {
      execInstructions.innerHTML = "Instructions for running Run-Models-bkup.ipynb python.";
    }
  }

  simplePython.addEventListener('change', updateInstructions);
  notebookPython.addEventListener('change', updateInstructions);
</script>
<script>
  (function () {
    // Always build a LOCAL http link to avoid SSL protocol errors on localhost/127.0.0.1
    const host = window.location.hostname || "localhost";
    const port = window.location.port || "8887";
    const serverUrl = `http://${host}:${port}/team/admin/server/`;

    const a = document.getElementById("serverLink");
    if (a) {
      a.href = "/team/admin/server/";         // relative works best once server is running
      a.textContent = serverUrl;              // display full URL so it’s obvious
    }

    const copyBtn = document.getElementById("copyServerUrl");
    if (copyBtn) {
      copyBtn.addEventListener("click", async () => {
        try {
          await navigator.clipboard.writeText(serverUrl);
          copyBtn.textContent = "Copied!";
          setTimeout(() => (copyBtn.textContent = "Copy URL"), 1200);
        } catch (e) {
          // fallback
          prompt("Copy this URL:", serverUrl);
        }
      });
    }
  })();
</script>


</body>
</html>